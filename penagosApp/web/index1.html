<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/materialize.min.css" rel="stylesheet">
    </head>
    <body>
        <div ng-app="penagosApp">
            <form action="#" ng-controller="penagosAppCtrl as vm">
                <div class="file-field input-field">
                    <div class="btn">
                        <span>File</span>
                        <input type="file" accept="image/*" id="fileUpload" ng-change="vm.login()">
                    </div>
                    <div class="file-path-wrapper">
                        <img id="image_upload_preview" src="http://placehold.it/100x100" alt="your image" />
                    </div>
                </div>
            </form>
        </div>


        <script src="js/jquery.min.js"></script>
        <script src="js/materialize.min.js"></script>
        <script src="js/angular.min.js"></script>
        <script src="js/index1.js"></script>
        <script>
//            var app = {
//                init: function () {
//                    $("#fileUpload").on('change', function () {
//                        var inputFileImage = document.getElementById("fileUpload");
//                        var file = inputFileImage.files[0];
//                        var data = new FormData();
//                        data.append('Archivo', file);
//                        var params = {
//                            proceso: "archivo",
//                            file: file
//                        };
//                        $.ajax({
//                            url: "Peticiones1.jsp",
//                            data: params,
//                            type: 'POST',
//                            success: function (data, textStatus, jqXHR) {
//                                if (data.ok === true) {
//                                    if (data[params.proceso] === true) {
//                                        app.aalert('Guardo');
//                                        $('#codigo').val("");
//                                        $('#nombre').val("");
//                                        $('#cantidad').val("");
//                                        $('#descripcion').val("");
//                                        window.opener.location.reload();
//                                    } else {
//                                        app.aalert('Lo sentimos no se ha podido guardar');
//                                    }
//                                } else {
//                                    alert(data.errorMsg);
//                                }
//                            }
//                        });
//                                var countFiles = $(this)[0].files.length;
//                        var imgPath = $(this)[0].value;
//                        var reader = new FileReader();
//                        reader.onload = function (e) {
//                            $('#image_upload_preview').attr('src', e.target.result);
//                        };
//                        reader.readAsDataURL(this.files[0]);
//                    });
////                    
//                }
//            };
//            $(document).ready(function () {
//                app.init();
//            });
        </script>
    </body>
</html>
